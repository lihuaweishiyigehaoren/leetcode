### 字节跳动问题

### C++

#### static/extern/inline关键字详解

1.static 

全局变量与静态全局变量的区别

全局变量前面加上static就是静态全局变量.全局变量和静态全局变量都是静态存储方式.两者的主要区别是**非静态全局变量的作用域是整个源程序,当一个源程序由多个源文件组成时,非静态的全局变量在各个源文件中都是有效的.**  而**静态全局变量则限制其作用域,只在定义该变量的源文件内有效,在同一源程序的其他源文件中不能使用.**

总结:**把局部变量改变为静态变量后是改变了它的存储方式,即改变了它的生存期.把全局变量改变为静态变量后是改变了它的作用域,限制了它的使用范围**



普通函数和静态函数

static函数与普通函数**作用域不同**,静态函数只在本文件,只有在**当前源文件中使用的函数应该说明为内部函数(static),静态函数应该在当前文件中说明和定义.**对于可在当前源文件以外使用的函数,应该在一个头文件中声明,要使用这些函数的源文件要包含这个头文件.



static全局变量和普通的全局变量区别

static全局变量只初始化一次,防止在其他文件单元中被引用



static局部变量和普通局部变量区别

static局部变量只被初始化一次,下一次依据上一次的结果值



static函数与普通函数区别

static函数在内存中只有一份,普通函数在每个调用中维持一份拷贝



2.extern 外编译

extern全局变量(用extern修饰的变量只是说明**该变量在其他地方定义**，所以在其他地方一定要用明确的定义如int a，并且不能用static修饰）、**static全局变量和static局部变量的生存期都是“永久”，区别只是可见域不同。extern全局变量可见区域是工程，static全局变量可见区域是文件，而static局部变量的可见区域是块**。

从代码维护角度来看，对extern变量的修改可能会影响所有代码，对static全局变量的修改可能影响一个文件中的代码，而对static变量的修改可能影响一个块的代码；因此在选择变量类型时，优先级是static局部>static全局>extern全局。但它们有着共同的缺点：使用了这些类型变量的函数将是不可重入的，不是线程安全的。在C/C++标准库中有很多函数都使用了static局部变量，目前的实现中都为它们提供了两套代码，单线程版本使用static变量而多线程版本使用“线程全局变量”，比如rand,strtok等。



**函数默认的修饰是extren,static把它声明为内部函数**



3.inline

优点:简单的说,内联函数直接将**函数替换到调用的位置**,这样可以大大的省掉调用函数的性能损失

缺点:程序体积变大,不利于动态升级,不利于调试



#### 智能指针问题?

weak_ptr = share_ptr会发生什么,会计数吗



#### 类成员变量的声明顺序和初始化顺序

#### 讲讲C++多态

#### 虚函数表存了什么信息

#### 虚函数表存在哪里

#### 出现菱形继承虚继承时C++对象内存布局 ,sizeof这个类的结果是多少

#### 一个C++程序执行main函数前和执行完main函数后发生什么

#### do{}while(0)为什么要这样

作用:

1.宏定义时,如果是多个语句的宏,在展开的时候可能会出错

2.可以避免goto语句,异常时退出循环即可

3.避免空宏引起的警告

4.可以定义单一函数快速完成特定操作,且其间局部变量名不影响其他



### 操作系统

#### 操作系统的一些调度算法

#### 段与页的区别

#### 讲讲进程.线程.协程

#### 讲讲进程和线程切换的时候会发生什么

#### 如果让你实现一个协程库,你会怎么实现

#### 实现一个线程池

#### 讲讲mmap的实现原理

#### 你用C++一般怎么读写文件,在这种方式下,如果你在读写文件时程序挂了,那么会发生什么

#### 用户态内核态

#### 内存.外存,虚拟内存,物理内存.高速缓存

#### 页面置换算法有哪些

#### 操作系统底层的内存分配管理

brk(),sbrk(),mmap(),ptmalloc(),emalloc()(注意区别库函数) 

sbrk是C函数,系统调用brk和mmap,具体根据分配大小加以区分,sbrk调用brk

#### fwrite()调用会刷回磁盘吗?如果成功调用结束程序会刷回吗

不会:缓冲IO,会(面试官讲的,可能题目意思是成功返回,返程就是调用了fclose,主动刷)



### 网络编程

#### TCP的三次握手机制你觉得会出现什么安全上的问题

#### 对DDos了解吗?讲讲你所知道的DDos攻击方式以及防护措施

#### 讲讲你所知道的套接字选项

#### 讲讲select,poll,epoll的实现原理

#### http2.0新特性,了解http3.0吗

#### 讲讲https的握手,和http相比,https有什么优缺点

#### 分布式一致性算法

两段提交,三段提交,Paxos,raft,gossip



### 数据结构

####  map怎么实现的?讲讲红黑树的实现原理

#### 了解过跳表吗.rope知道吗



### 数据库

#### B B+树

#### ACID特性

#### 索引



### 算法

#### LRU

#### 链表反转

#### 树的层次遍历

#### 给定一个二叉树,再给定两个节点,求公共LCA

#### 链表快排

#### 给定一棵树,求树上距离为k的节点对的个数,如果多次询问有什么比较好的做法

#### 输入一个数字流,实时的显示当前已输入数字刘的中位数,你会怎么做

#### 最长不重复子串

#### 链表求公共节点

#### 正负数个数相同的数组转成正负交替数组,O(1)空间复杂度

#### 一个不均匀的硬币,正面的概率是p,反面的是1-p,要求出一个对等概率

正反两两一组,不是正反的丢弃,这样每个都是0.5



#### 