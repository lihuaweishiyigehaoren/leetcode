## 小红书面经

### 一面

#### vector加一个元素复杂度，扩容，那你为什么说期望是O(1)，请推导一下，好的

#### 说一下排序，那些稳定，那些不稳定，你为啥说归并不稳定，（举了一个例子），你明明可以写成稳定的形式，为啥写成不稳定

#### 你为啥说快排是nlogn，公式，请推到一下，请证明为啥，数学归纳法

#### 写一个题，一个数组，长度为cnt，找出最大最小值，要求比较的次数最少，你为啥这样，证明是2/3

#### 说一下stl迭代器吧，迭代器失效问题，blabla

#### 写一个题，找第k大的数

#### 问项目，你的架构

#### listen backlog 意义

#### 三次握手，accept是在哪个时候实现的

#### 网络的原理等等等



### 二面

#### 说一下项目，你现在是1秒1000个点，嗯，我如果传100000个点呢，加线程，你如何保证先后顺序呢，加服务器，你如何保证负载均衡呢，哈希函数重复呢，你用并查集浪费，修改数据原始的，嗯呢，我如果那样呢，分层并发等等等（主要就是这个，各种业务场景，优化方法，实际业务的解决方案，变态，还让写代码，不能光说，我还写了一个多线程类似归并的，分先后的）。

#### 数据库了解吗，懂点，你写个这种场景，你为啥用两个select，能不能优化一下，我数据库不怎么熟等，那我下面不能问你了

#### C++吧，说一下const，纯虚，虚函数等等，原理，说一下引用，右值引用，深浅拷贝业务场景（说了fork,vfork)，智能指针，这样一种情况，你怎么解决（这部分说的很快，说的时间短）

#### 写一个题吧，一组数，找一个和的两个数，哈希，不用额外呢，双指针，那你写一个三数等于0的，好的写在纸上

#### 你有啥想问我的



### 三面

#### 自我介绍一下，我介绍一下我自己，我来小红书十个月，原来在谷歌做客户端

#### 你说一下你的直播系统吧，架构是怎样的，说了异步非阻塞模型，分离，好的，那我有一种情况，你是怎么把一个C的弹幕给另外一个C（转发的细节说了），好了那你用什么连接，我用长连接，你为啥用长连接（我说了区别），你为啥说长连接性能低，资源浪费说的对，性能低吗？（我不确定，我举了一个例子，我说qq群有100 500 3000，群越大要钱越多，说明连接要的资源多） ，其实是要高，我为了圆这个说法，扯的这个，好了那你说一下0 1 2三个房间服务器三台机器，哈希，说了谷歌的框架，奥奥，你是不是看过谷歌的那篇文章，我没看过等，（哈希一致性一部分）。01失误长连接怎么失误率。

#### 采集的那个10万数据怎么办，加十个服务器，怎么均衡，rehash等等，一个机器挂了，你怎么知道挂了，全双工检测，次数等等

#### 一个场景，北京上海，你说处理复杂度一样，我现在网络不行，你怎么办，做反向代理，nginx，我缓存，嗯，好等等一系列业务

